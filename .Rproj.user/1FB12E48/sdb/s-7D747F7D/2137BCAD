{
    "collab_server" : "",
    "contents" : "# Create Tunisia-specific charts and plots from World Bank data\n\nrequire(readr)\nrequire(tidyr)\nrequire(dplyr)\nrequire(ggplot2)\n\nall_data <- read_csv(file = 'world_bank/tunisia_all_wb.csv',skip=4)\nall_data <- all_data %>% gather(year,measurement,`1960`:`2016`) %>% \n  select(-X62,-`Country Code`) %>% rename(indicator_name=`Indicator Name`,\n                                          country_name=`Country Name`,\n                                          indicator_code=`Indicator Code`)\n\ncount_miss <- all_data %>% group_by(indicator_name) %>% summarize(num_avail=sum(!is.na(measurement)))\n\nall_data %>% filter(indicator_name==\"Bank capital to assets ratio (%)\",!is.na(measurement)) %>% \n  ggplot(aes(x=as.numeric(year),y=measurement)) + geom_line() + theme_minimal() + xlab(\"\") + \n  ylab('Percentage Non-performing Loans')\n\nall_data %>% filter(indicator_name=='Bank nonperforming loans to total gross loans (%)',!is.na(measurement)) %>% \n  ggplot(aes(x=as.numeric(year),y=measurement)) + geom_line() + theme_minimal() + xlab(\"\") + \n  ylab('Percentage Non-performing Loans to Good Loans')\n\nall_data %>% filter(indicator_name=='Borrowers from commercial banks (per 1,000 adults)',!is.na(measurement)) %>% \n  ggplot(aes(x=as.numeric(year),y=measurement)) + geom_line() + theme_minimal() + xlab(\"\") + \n  ylab('% Borrowers from Commercial Banks')\n\n#Central government debt, total (% of GDP)\n\nall_data %>% filter(indicator_name=='Central government debt, total (% of GDP)',!is.na(measurement)) %>% \n  ggplot(aes(x=as.numeric(year),y=measurement)) + geom_line() + theme_minimal() + xlab(\"\") + \n  ylab('% GDP of Government Debt')\n\n#Cereal yield (kg per hectare)\n\nall_data %>% filter(indicator_name=='Cereal yield (kg per hectare)',!is.na(measurement)) %>% \n  ggplot(aes(x=as.numeric(year),y=measurement)) + geom_line() + theme_minimal() + xlab(\"\") + \n  ylab('Cereal yield (kg per hectare)') + stat_smooth()\n\n#\"Cost of business start-up procedures (% of GNI per capita)\" 14\n\nall_data %>% filter(indicator_name=='Cost of business start-up procedures (% of GNI per capita)',!is.na(measurement)) %>% \n  ggplot(aes(x=as.numeric(year),y=measurement)) + geom_line() + theme_minimal() + xlab(\"\") + \n  ylab('Cost of business start-up procedures (% of GNI per capita')\n\n#\"Cost to export (US$ per container)\" 10 & \"Cost to import (US$ per container)\" 10\n\nall_data %>% filter(indicator_name %in% c('Cost to export (US$ per container)',\n                                          'Cost to import (US$ per container)'),!is.na(measurement)) %>% \n  ggplot(aes(x=as.numeric(year),y=measurement,colour=indicator_name)) + geom_line() + theme_minimal() + xlab(\"\") + \n  ylab('US $ per container')\n\n#Crop production index (2004-2006 = 100)\n\nall_data %>% filter(indicator_name=='Crop production index (2004-2006 = 100)',!is.na(measurement)) %>% \n  ggplot(aes(x=as.numeric(year),y=measurement)) + geom_line() + theme_minimal() + xlab(\"\") + \n  ylab('Crop production index (2004-2006 = 100)') + stat_smooth()\n\n#Domestic credit provided by financial sector (% of GDP)\n\nall_data %>% filter(indicator_name=='Domestic credit provided by financial sector (% of GDP)',!is.na(measurement)) %>% \n  ggplot(aes(x=as.numeric(year),y=measurement)) + geom_line() + theme_minimal() + xlab(\"\") + \n  ylab('Domestic Credit % GDP') + stat_smooth()\n\n#Employment in agriculture (% of total employment)\n\nall_data %>% filter(indicator_name=='Employment in agriculture (% of total employment)',!is.na(measurement)) %>% \n  ggplot(aes(x=as.numeric(year),y=measurement)) + geom_line() + theme_minimal() + xlab(\"\") + \n  ylab('Employment in agriculture (% of total employment)')\n\n#Add in crop production\n\nall_data %>% filter(indicator_name %in% c('Employment in agriculture (% of total employment)',\n                                          'Cereal yield (kg per hectare)'),!is.na(measurement)) %>% \n  ggplot(aes(x=as.numeric(year),y=measurement)) + geom_line(colour='blue') + theme_minimal() + xlab(\"\") + \n  facet_wrap(~indicator_name,scales='free_y') + xlim(1980,2016) + ylab(\"\")\n\n#Look at employment in industry, services & ag together\n\nall_data %>% filter(indicator_name %in% c('Employment in agriculture (% of total employment)',\n                                          'Employment in services (% of total employment)',\n                                          'Employment in industry (% of total employment)'),!is.na(measurement)) %>% \n  mutate(indicator_name=factor(indicator_name,labels=c('Agriculture','Industry','Services'))) %>% \n  ggplot(aes(x=as.numeric(year),y=measurement)) + geom_line(colour='blue') + theme_minimal() + xlab(\"\") + \n  facet_wrap(~indicator_name) + xlim(1980,2016) + ylab(\"Percent Employed\")",
    "created" : 1486489805943.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3571869554",
    "id" : "2137BCAD",
    "lastKnownWriteTime" : 1486571557,
    "last_content_update" : 1486571557799,
    "path" : "~/R_Projects/dissertation_data/tunisia_plots.R",
    "project_path" : "tunisia_plots.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}